<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    .checked {
      color: orange;
    }
  </style>
  <title>Filmes e Series</title>
</head>

<body>
  <br>

  <div class="container">
    <div class="row">
      <div class="col-6">
        <form #cadastro='ngForm' (submit)="salvar()">
          <label> Titulo </label>
          <input type="text" class="form-control" id='titulo' name='titulo' [(ngModel)]='titulo' required><br>

          <label> Descrição </label>
          <textarea id="descricao" name="descricao" [(ngModel)]="descricao" cols="70" rows="3"></textarea><br>

          <div class="form-check" *ngFor='let i of tipos'>
            <input class="form-check-input" type="radio" name="exampleRadios" id="radio" value="{{i}}" 
            (click)='selecionar(i)'> {{i}}
          </div><br>

          <label> Ano </label>
          <input type="text" class="form-control" id='ano' name='ano' [(ngModel)]='ano' required><br>

          <label> Genero </label>
          <input type="text" class="form-control" id='genero' name='genero' [(ngModel)]='genero' required><br>

          <label> Duração </label>
          <input type="text" class="form-control" id='duracao' name='duracao' [(ngModel)]='duracao' required><br>

          <label> Temporada </label>
          <input type="text" class="form-control" id='qtd_temporada' name='qtd_temporada' [(ngModel)]='qtd_temporada'
            required><br>
          <button type='submit' class='btn btn-primary'>Salvar </button>
          <button type="reset" class="btn btn-secondary" (click)='cancelar()'> Cancelar</button><br>

        </form>
      </div>

      <div class="col-6">
        <div *ngFor='let i of filmes' class="card">
          <div class="card-header">
            Filme
          </div>
          <div class="card-body">
            <h5 class="card-title">{{i.titulo}}</h5>
            <h6 class="card-title">{{i.ano}} - {{i.genero}} - {{i.duracao}} </h6>
            <p class="card-text"> {{i.descricao}} </p>
            <h5><button type="button" class="btn btn-primary" (click)='editar(i, "Filme")'> Editar </button>
              <button type="button" class="btn btn-danger" (click)='excluir(i, "Filme")'> Excluir </button></h5>
          </div>
          <div class="card-footer text-muted" id="divFilme" >
            <span class="fa fa-star" (click)='classificar("Filme",i, 1 )' ></span>
            <span class="fa fa-star" (click)='classificar("Filme",i, 2)'></span>
            <span class="fa fa-star" (click)='classificar("Filme",i, 3)'></span>
            <span class="fa fa-star" (click)='classificar("Filme", i, 4)'></span>
            <span class="fa fa-star" (click)='classificar("Filme",i, 5)'></span>
          </div>
        </div><br>


        <div *ngFor='let i of series' class="card">
          <div class="card-header">
            Serie
          </div>
          <div class="card-body">
            <h5 class="card-title">{{i.titulo}}</h5>
            <h6 class="card-title">{{i.ano}} - {{i.genero}} - {{i.qtd_temporada}} </h6>
            <p class="card-text"> {{i.descricao}} </p>
            <h5><button type="button" class="btn btn-primary" (click)='editar(i, "Serie")'> Editar </button>
              <button type="button" class="btn btn-danger" (click)='excluir(i, "Serie")'> Excluir </button></h5>
          </div>
          <div class="card-footer text-muted" id="divSerie" >
            <span class="fa fa-star" (click)='classificar("Serie", i, 1)'></span>
            <span class="fa fa-star" (click)='classificar("Serie",i, 2)'></span>
            <span class="fa fa-star" (click)='classificar("Serie",i, 3)'></span>
            <span class="fa fa-star" (click)='classificar("Serie",i, 4)'></span>
            <span class="fa fa-star" (click)='classificar("Serie",i, 5)'></span>

          </div>
        </div>
      </div>
    </div>
  </div>
  <h1 *ngFor='let i of filmes'>{{i.classificacao}}</h1>
  <h1 *ngFor='let i of series'>{{i.classificacao}}</h1>
</body>
</html>